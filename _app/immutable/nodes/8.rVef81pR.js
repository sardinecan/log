import{s as G,n as B}from"../chunks/scheduler.DaEglZbh.js";import{S as J,i as K,e as k,s as P,c as S,k as Q,f as j,a as y,d as m,m as g,g as E,A as D,B as W,o as X,t as z,b as L,h as _,j as T}from"../chunks/index.B_-7WD2a.js";import{e as H}from"../chunks/each.D6YF6ztN.js";import{d as N}from"../chunks/dates.D2-NGLRx.js";const Y=async({fetch:l})=>({reports:await(await l("/api/reports")).json()}),le=Object.freeze(Object.defineProperty({__proto__:null,load:Y},Symbol.toStringTag,{value:"Module"}));function M(l,e,a){const i=l.slice();return i[4]=e[a],i}function U(l){let e,a=F(l[4].meta.speaker)+"",i;return{c(){e=k("span"),i=z(a),this.h()},l(s){e=S(s,"SPAN",{class:!0});var n=y(e);i=L(n,a),n.forEach(m),this.h()},h(){g(e,"class","speaker")},m(s,n){E(s,e,n),_(e,i)},p(s,n){n&2&&a!==(a=F(s[4].meta.speaker)+"")&&T(i,a)},d(s){s&&m(e)}}}function V(l){let e,a,i,s=l[4].meta.category+"",n,h,c,b=l[4].meta.title+"",d,o,t,p=(l[4].meta.place?N(l[4].meta.date)+" | "+l[4].meta.place:N(l[4].meta.date))+"",r,A,I,w,f=l[4].meta.speaker&&U(l);return{c(){e=k("a"),a=k("article"),i=k("span"),n=z(s),h=P(),c=k("span"),d=z(b),o=P(),t=k("span"),r=z(p),A=P(),f&&f.c(),I=P(),this.h()},l(u){e=S(u,"A",{class:!0,href:!0});var v=y(e);a=S(v,"ARTICLE",{});var C=y(a);i=S(C,"SPAN",{class:!0});var O=y(i);n=L(O,s),O.forEach(m),h=j(C),c=S(C,"SPAN",{class:!0});var R=y(c);d=L(R,b),R.forEach(m),o=j(C),t=S(C,"SPAN",{class:!0});var q=y(t);r=L(q,p),q.forEach(m),A=j(C),f&&f.l(C),C.forEach(m),I=j(v),v.forEach(m),this.h()},h(){g(i,"class","category"),g(c,"class","title"),g(t,"class","date"),g(e,"class","card"),g(e,"href",w=l[4].path)},m(u,v){E(u,e,v),_(e,a),_(a,i),_(i,n),_(a,h),_(a,c),_(c,d),_(a,o),_(a,t),_(t,r),_(a,A),f&&f.m(a,null),_(e,I)},p(u,v){v&2&&s!==(s=u[4].meta.category+"")&&T(n,s),v&2&&b!==(b=u[4].meta.title+"")&&T(d,b),v&2&&p!==(p=(u[4].meta.place?N(u[4].meta.date)+" | "+u[4].meta.place:N(u[4].meta.date))+"")&&T(r,p),u[4].meta.speaker?f?f.p(u,v):(f=U(u),f.c(),f.m(a,null)):f&&(f.d(1),f=null),v&2&&w!==(w=u[4].path)&&g(e,"href",w)},d(u){u&&m(e),f&&f.d()}}}function Z(l){let e,a="Comptes rendus",i,s,n,h,c,b,d=H(l[1]),o=[];for(let t=0;t<d.length;t+=1)o[t]=V(M(l,d,t));return{c(){e=k("h1"),e.textContent=a,i=P(),s=k("input"),n=P(),h=k("div");for(let t=0;t<o.length;t+=1)o[t].c();this.h()},l(t){e=S(t,"H1",{"data-svelte-h":!0}),Q(e)!=="svelte-14m5zzg"&&(e.textContent=a),i=j(t),s=S(t,"INPUT",{class:!0,type:!0,placeholder:!0}),n=j(t),h=S(t,"DIV",{class:!0});var p=y(h);for(let r=0;r<o.length;r+=1)o[r].l(p);p.forEach(m),this.h()},h(){g(s,"class","filter"),g(s,"type","text"),g(s,"placeholder","filtrer"),g(h,"class","cards")},m(t,p){E(t,e,p),E(t,i,p),E(t,s,p),D(s,l[0]),E(t,n,p),E(t,h,p);for(let r=0;r<o.length;r+=1)o[r]&&o[r].m(h,null);c||(b=W(s,"input",l[3]),c=!0)},p(t,[p]){if(p&1&&s.value!==t[0]&&D(s,t[0]),p&2){d=H(t[1]);let r;for(r=0;r<d.length;r+=1){const A=M(t,d,r);o[r]?o[r].p(A,p):(o[r]=V(A),o[r].c(),o[r].m(h,null))}for(;r<o.length;r+=1)o[r].d(1);o.length=d.length}},i:B,o:B,d(t){t&&(m(e),m(i),m(s),m(n),m(h)),X(o,t),c=!1,b()}}}function F(l){var e=l.split(";"),e=e.map(a=>$(a));return e.length>3?e[0]+", "+e[1]+", "+e[2]+" et al.":e.join(", ")}function $(l){return l.replace(/^\s*|\s*$/g,"")}function x(l,e,a){let i,{data:s}=e,n;function h(){n=this.value,a(0,n)}return l.$$set=c=>{"data"in c&&a(2,s=c.data)},l.$$.update=()=>{l.$$.dirty&5&&a(1,i=n?s.reports.filter(c=>c.meta.title.toLowerCase().match(`${n}.*`)||c.meta.category.toLowerCase().match(`${n}.*`)||c.meta.speaker.toLowerCase().match(`${n}.*`)):s.reports)},[n,i,s,h]}class re extends J{constructor(e){super(),K(this,e,x,Z,G,{data:2})}}export{re as component,le as universal};
